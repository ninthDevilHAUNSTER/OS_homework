 、 要求

（1） 实际一个 n 个用户的文件系统，每个用户最多可保存 m 个文件。

（2） 限制用户在一次运行中只能打开 l 个文件。

（3） 系统应能检查打入命令的正确性，出错要能显示出错原因。

（4） 对文件必须设置保护措施，如只能执行，允许读、允许写等。在每次打开文件时，根据本次打开的要求，再次设置保护级别，即可有二级保护。

（5） 对文件的操作至少应有下述几条命令：

creat 建立文件。
delete 删除文件。
open 打开文件。
close 关闭文件。
read 读文件。
write 写文件。

二、 示例
1. 题目

（1） 本实习设计一个 10 个用户的文件系统，每个用户最多可保存 10 个文件，一次运行中用户可打开 5 个
文件。

（2） 程序采用二级文件目录，即设置了主文件目录（MFD）和用户文件目录（UFD）。前者应包含文件主（即
用户）及他们的目录区指针；后者应给出每个文件主占有的文件目录，即文件名，保护码，文件长度
以及他们存放的位置等。另外为打开文件设置了运行文件目录（AFD），在文件打开时应填入打开文件
号，本次打开保护码和读写指针等。

（3） 为了便于实现，对文件的读写作了简化，在执行读写命令时，只修改读写指针，并不进行实际文件的
读写操作。

2. 算法与框图

（1） 因系统小，文件目录的检索使用了简单的线性搜索，而没有采用 Hash 等有效算法。

（2） 文件保护简单实用了三位保护码，对应于允许读、允许写和运行执行，如下所示：

1 1 1
允许写 允许读 允许执行
如对应位为 0，则不允许。